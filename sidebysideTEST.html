<!--
 * Thanks To: Eric Bidelman <e.bidelman@chromium.org> 
 * Reference: http://studio.html5rocks.com/#Photos 
--> 
<!DOCTYPE html> 
<html lang="en" style="width: 100%; height: 100%"> 
<head> 
<meta charset="utf-8" /> 
<meta http-equiv="X-UA-Compatible" content="IE=Edge;chrome=1" /> 
<style type="text/css"> 
</style> 
</head> 


<body class="center" style="width: 100%; height: 100%">  

<div style="width: 100%; height: 100%; position: absolute; z-index: 50" id="divMain"> 
<img id="imgBG" src="bird2.jpg" style="width: 100%; height: 100%" /> 
</div> 

<script type="text/javascript"> 
var dropbox = document.getElementById('imgBG'); 


// Setup drag and drop handlers. 
dropbox.addEventListener('dragenter', stopDefault, false); 
dropbox.addEventListener('dragover', stopDefault, false); 
dropbox.addEventListener('dragleave', stopDefault, false); 
dropbox.addEventListener('drop', onDrop, false); 

function stopDefault(e)  
{ 
  e.stopPropagation(); 
  e.preventDefault(); 
} 


function onDrop(e)  
{ 
e.stopPropagation(); 
e.preventDefault(); 

var readFileSize = 0; 
var files = e.dataTransfer.files; 

console.log(e);
file = files[0]; 
readFileSize += file.fileSize; 


// Only process image files. 
var imageType = /image.*/; 

if (!file.type.match(imageType))  
{ 
return; 
} 


var reader = new FileReader(); 


reader.onerror = function(e)  
{ 
alert('Error code: ' + e.target.error); 
}; 


// Create a closure to capture the file information. 
reader.onload = (function(aFile)  
{ 
return function(evt)  
{ 
dropbox.src = evt.target.result; 
} 
})(file); 

// Read in the image file as a data url. 
reader.readAsDataURL(file); 
} 
</script> 
</body> 
</html>